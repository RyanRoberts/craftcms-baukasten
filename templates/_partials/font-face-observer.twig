<style>
  {{ craft.twigpack.includeFile("@webroot/dist/css/generic.webfonts.css") }}
</style>
{% import '_macros/_macro-cookies.twig' as cookies %}
{% set fontsLoaded = cookies.get('fonts-loaded') %}
{% if fontsLoaded or craft.app.config.general.custom.craftEnv == 'local' %}
  <script>
    document.documentElement.classList.add('fonts-loaded');
  </script>
  {% do cookies.set('fonts-loaded', 'true', now | date_modify('+7 days').timestamp) %}
{% else %}
  <script>
    {{ craft.twigpack.includeFile("@webroot/dist/js/fontfaceobserver.js") }}
    {{ craft.twigpack.includeFile("@webroot/dist/js/load-fonts.js") }}
  </script>
{% endif %}

