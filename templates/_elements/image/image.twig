{# Set Defaults #}
{% set defaults = {
  cn: 'c-image',
  modifiers: [],
  customClasses: [],
  data: {},
  js: null,
  image: null,
  transform: null | default('landscape'),
  objectFit: null,
  lazy: true,
  calcDominantColor: false,
  noscript: true
} %}

{# Merge Default with Options #}
{% set props = props is defined ? defaults|merge(props) : defaults %}

{# Macros #}
{% import '_macros/_macro-settings.twig' as module %}
{% import '_macros/_macro-imageHelper.twig' as imageHelper %}

{# Image #}
{% if props.image ??? null %}
  {% set image = props.image %}
{% endif %}

{% if image ??? null %}
  {{- imageHelper.renderImage(image, props.transform, props.lazy, props.objectFit, props.calcDominantColor) -}}
  {% if props.noscript %}
    {{- imageHelper.renderNoScript(image) -}}
  {% endif %}
{% endif %}
