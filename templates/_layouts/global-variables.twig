{# Root global variables that all templates inherit from #}
{# This allows for defining site-wide Twig variables as needed #}
{#
 ┌─────────────────────────────────────────────────────────────────────────────┐
 │                                                                             │
 │                                                                             │
 │                                                                             │
 │                                  htmlPage                                   │
 └─────────────────────────────────────────────────────────────────────────────┘
#}
{% spaceless %}
  {# Asset Hash for Cookies #}
  {% set assetHash = craft.twigpack.getModuleHash("styles.css", "legacy") %}

  {# Prefetch & preconnect headers and links #}
  {% set prefetchUrls = [
    alias("@assetsUrl"),
  ] %}
  {# General global variables #}
  {% set baseUrl = alias('@assetsUrl') ~ '/' %}
  {% set gaTrackingId = getenv('GA_TRACKING_ID') %}

  {# Typogrify Settings #}
  {% set phpTypographySettings = getPhpTypographySettings() %}
  {% do phpTypographySettings.set_hyphenation_language(craft.app.language | slice(0,2)) %}
  {% do phpTypographySettings.set_diacritic_language(craft.app.language | slice(0,2)) %}

  {# Twig output from the render; this must be in a block #}
  {% block htmlPage %}
  {% endblock %}

  {# Make stuff global available #}
  <script>
      window.siteUrl = '{{ siteUrl }}';
      window.Craft = {{ csrfToken|json_encode|raw }};
  </script>

{% endspaceless %}
