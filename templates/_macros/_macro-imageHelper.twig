{#
Image Helper
------------------------------------------------------------

{% import '_macros/_macro-imageHelper.twig' as image  %}
#}


{# Render Image #}
{%- macro renderImage(imageData = null, transform = 'landscape', lazy = true, objectFit = null) -%}
  {# If Image exists render it #}
  {%- if imageData ??? null -%}
    <img data-type="{{- imageData.filetype -}}"
         decoding="async"
         width="{{- imageData.width -}}"
         height="{{- imageData.height -}}"
         alt="{{- imageData.title -}}"
         title="{{- imageData.title -}}"
         sizes="100vw"
      {%- if objectFit -%}
        style="object-fit: {{ objectFit }}; object-position: {{ imageData.focalpoint }}; height: 100%; width: 100%;"
      {%- endif -%}
      {% if lazy %}
        class="lazyload"
        loading="lazy"
        src="{{- imageData.placeholder -}}"
        {%- if imageData.transformable -%}
          data-srcset="{{- imageData.srcset -}}"
        {%- else -%}
          data-src="{{- imageData.url -}}"
        {%- endif -%}
        data-sizes="auto"
      {%- else -%}
        src="{{- imageData.url -}}"
        {%- if imageData.transformable -%}
          srcset="{{- imageData.srcset -}}"
        {% endif %}
      {% endif %}
    />
  {%- endif -%}
{%- endmacro -%}


{# Render Source #}
{%- macro renderSource(filetype = null, srcset = null, transform = 'landscape', lazy = true, mediaQuery = null, type = 'image/webp') -%}
  {# Handle Image #}
  {%- if srcset and filetype -%}
    <source  data-type="{{- filetype -}}"
             type="{{- type -}}"
             {% if lazy %}data-sizes="auto" data-srcset="{{- srcset -}}"{% endif %}
      {% if not lazy %}sizes="100vw" srcset="{{- srcset -}}"{% endif %}
      {% if mediaQuery %}media="{{- mediaQuery -}}"{% endif %}/>
  {%- endif -%}
{%- endmacro -%}
